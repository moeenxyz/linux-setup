# Ubuntu Server # Security Settings
INSTALL_FAIL2BAN=Yp Configuration
# Copy this file to .env and customize your settings

# System Updates
UPDATE_SYSTEM=Y

# Package Installations
INSTALL_GIT=Y
INSTALL_DOCKER=Y
INSTALL_COMPOSE=Y
INSTALL_ZFS=Y
INSTALL_ESSENTIAL_TOOLS=Y
INSTALL_ZSH=Y
INSTALL_NODEJS=Y
INSTALL_CLOUDFLARED=Y

# Security Settings
CONFIGURE_FIREWALL=N
INSTALL_FAIL2BAN=N
HARDEN_SSH=N

# SSH Configuration
SSH_PORT=22
SSH_PUBLIC_KEY=""
# Example: SSH_PUBLIC_KEY="ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC... user@host"

# Cloudflare Tunnel Configuration
CLOUDFLARED_TOKEN=""
SETUP_CLOUDFLARED_TUNNEL=Y
# Example: CLOUDFLARED_TOKEN="eyJhIjoiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoiLCJ0IjoiMTIzNDU2NzgtOTBhYi1jZGVmLTEyMzQtNTY3ODkwYWJjZGVmIiwicyI6IkFiQ2RFZkdoSWpLbE1uT3BRclN0VXZXeFl6In0="

# ZFS Configuration
ZFS_POOL_TYPE=1  # 1=file-based, 2=disk-based
ZFS_DISK=""      # Only needed if ZFS_POOL_TYPE=2
CREATE_ZFS_POOL=Y  # Create ZFS data pool for server migration
# Example: ZFS_DISK="/dev/sdb"

# ZFS Directory Structure (automatically configured)
# After setup, all services will use these directories:
# /server-data/ or /srv/ (depending on pool type)
# ├── docker/          # Docker data root
# ├── apps/            # Application code and web files
# │   ├── web/         # Web application files
# │   ├── api/         # API application files
# │   └── services/    # Background services
# ├── data/            # Persistent data
# │   ├── databases/   # Database files
# │   ├── uploads/     # User uploaded files
# │   ├── cache/       # Cache files
# │   └── sessions/    # Session data
# ├── logs/            # All log files
# │   ├── system/      # System logs
# │   ├── security/    # Security logs
# │   ├── app/         # Application logs
# │   ├── nginx/       # Web server logs
# │   └── apache/      # Apache logs
# ├── configs/         # Configuration files
# └── scripts/         # Scripts and automation

# Firewall Ports (space-separated)
FIREWALL_EXTRA_PORTS=""
# Example: FIREWALL_EXTRA_PORTS="80 443 3000"

# Shell Configuration
CHANGE_DEFAULT_SHELL=Y
